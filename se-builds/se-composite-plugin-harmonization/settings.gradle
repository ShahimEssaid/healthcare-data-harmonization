import org.gradle.api.publish.maven.MavenPublication

rootProject.name = 'se-composite-plugin-harmonization'

gradle.ext.set("docgenExists", true)
gradle.ext.set("annotationProcessorExists", true)

includeBuild("../se-composite-whistle_core")

include(":common")
project(":common").projectDir = file("../../plugins/harmonization/common")

include(":hdev2")
project(":hdev2").projectDir = file("../../plugins/harmonization/hdev2")

rootProject.children.forEach {
    it.buildFileName = "se-build.gradle"
}

gradle.allprojects {
    apply {
        plugin("maven-publish")
    }
    repositories {
        mavenCentral()
    }

    pluginManager.withPlugin("java") {
        java {
            withSourcesJar()
        }

        publishing {
            publications {
                maven(MavenPublication){
                    from components.java
                }
            }
        }
    }
}
